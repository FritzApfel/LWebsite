<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Minecraft Plugin Academy - Universelle Coding KI</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = { theme: { extend: { colors: { mcgreen:'#22c55e', mcdark:'#0f172a' } } } };
</script>
</head>
<body class="bg-gradient-to-br from-mcdark to-black text-gray-100 min-h-screen">

<header class="bg-black/60 backdrop-blur sticky top-0 z-50">
  <div class="max-w-7xl mx-auto p-4 flex justify-between items-center">
    <h1 class="text-2xl font-extrabold text-mcgreen">⛏ Minecraft Plugin Academy</h1>
    <button onclick="openMC_AI()" class="px-4 py-2 bg-mcgreen text-black font-bold rounded">Coding KI</button>
  </div>
</header>

<section class="text-center py-16">
  <h2 class="text-4xl font-extrabold mb-4">Universelle Minecraft Plugin KI</h2>
  <p class="text-gray-400 max-w-xl mx-auto">Frage die KI, um beliebige Plugins zu erstellen, Events zu erklären oder Java-Konzepte zu lernen.</p>
</section>

<main class="max-w-7xl mx-auto px-6 pb-20">
  <div id="chapterList" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
</main>

<!-- Kapitel Overlay -->
<div id="chapterPage" class="hidden fixed inset-0 bg-black/90 overflow-auto p-10 z-50">
  <button onclick="closeChapter()" class="mb-6 px-4 py-2 bg-red-600 rounded text-white">Zurück</button>
  <div class="bg-mcdark p-6 rounded-lg max-w-4xl mx-auto">
    <h2 id="chapterTitle" class="text-3xl font-bold mb-4"></h2>
    <p id="chapterText" class="mb-4 text-gray-300"></p>
    <h3 class="text-2xl font-bold mb-2">Methoden & Erklärungen</h3>
    <div id="methodsList" class="space-y-3"></div>
  </div>
</div>

<!-- Minecraft Coding KI -->
<div id="mcAI" class="hidden fixed inset-0 bg-black/90 flex flex-col items-center justify-center z-50 p-6">
  <button onclick="closeMC_AI()" class="mb-4 px-4 py-2 bg-red-600 rounded text-white">Schließen</button>
  <h2 class="text-3xl font-bold mb-4 text-mcgreen">Universelle Minecraft Coding KI</h2>
  <textarea id="mcAIInput" placeholder="Frag die KI alles über Minecraft Plugins oder Java..." class="w-full max-w-xl h-24 p-3 rounded bg-black/80 text-green-300 mb-3"></textarea>
  <button onclick="askMC_AI()" class="px-4 py-2 bg-mcgreen text-black font-bold rounded mb-4">Frage stellen</button>
  <pre id="mcAIOutput" class="bg-black/80 p-4 rounded text-yellow-400 max-w-xl w-full h-80 overflow-auto"></pre>
</div>

<script>
// =================== Kapitel Daten ===================
const chapters = [
  { id:'java', title:'Java Grundlagen', text:'Variablen, Schleifen, Bedingungen, Klassen, Methoden.', methods:[
    {name:'int', desc:'Ganzzahl'},
    {name:'String', desc:'Text/Zeichenkette'},
    {name:'for', desc:'Schleife'},
    {name:'if/else', desc:'Bedingung'},
    {name:'class', desc:'Klassen Definition'},
    {name:'void', desc:'Methoden ohne Rückgabewert'}
  ]},
  { id:'oop', title:'Objektorientierte Programmierung', text:'Klassen, Objekte, Vererbung, Interfaces, Polymorphismus.', methods:[
    {name:'extends', desc:'Erbt Eigenschaften einer Klasse'},
    {name:'implements', desc:'Implementiert ein Interface'},
    {name:'this', desc:'Referenz auf aktuelles Objekt'},
    {name:'super', desc:'Referenz auf Elternklasse'}
  ]},
  { id:'spigot', title:'Spigot Plugins', text:'Entwicklung von Minecraft Plugins: Events, Commands, Listener.', methods:[
    {name:'onEnable', desc:'Beim Plugin Start'},
    {name:'onDisable', desc:'Beim Plugin Stop'},
    {name:'PlayerJoinEvent', desc:'Spieler tritt Server bei'},
    {name:'CommandExecutor', desc:'Erstellt Commands'}
  ]}
];

// =================== Kapitel UI ===================
const chapterListEl = document.getElementById('chapterList');
chapters.forEach(ch=>{
  const div = document.createElement('div');
  div.className='bg-white/5 border border-white/10 rounded-xl p-5 hover:border-mcgreen cursor-pointer';
  div.innerHTML=`<h3 class='text-lg font-bold'>${ch.title}</h3>`;
  div.onclick=()=>openChapter(ch.id);
  chapterListEl.appendChild(div);
});

function openChapter(id){
  const ch=chapters.find(c=>c.id===id);
  if(!ch) return;
  document.getElementById('chapterTitle').innerText=ch.title;
  document.getElementById('chapterText').innerText=ch.text;
  const methodsEl=document.getElementById('methodsList');
  methodsEl.innerHTML='';
  ch.methods.forEach(m=>{
    methodsEl.innerHTML+=`<div class='bg-black/70 p-3 rounded'><strong>${m.name}</strong>: ${m.desc}</div>`;
  });
  document.getElementById('chapterPage').classList.remove('hidden');
}
function closeChapter(){document.getElementById('chapterPage').classList.add('hidden');}

// =================== Universelle Minecraft Coding KI ===================
class MinecraftCodingAI{
  constructor(outputEl){
    this.outputEl = outputEl;
    this.templates = {}; // kann später mit allen Commands/Events/Plugins erweitert werden
  }

  answer(input){
    input = input.toLowerCase().trim();

    // Einfacher Text
    if(input==='hallo') return 'Hallo! Ich kann dir helfen, Plugins zu erstellen oder Methoden zu erklären.';

    // Beispiel generische Plugin-Erstellung
    if(input.includes('plugin') || input.includes('/')){
      let name = 'MeinPlugin';
      if(input.includes('/heal')) name = 'HealPlugin';
      else if(input.includes('/fly')) name = 'FlyPlugin';
      else if(input.includes('/feed')) name = 'FeedPlugin';

      return `// Fertiges Plugin: ${name}
package com.deinplugin;

import org.bukkit.command.Command;
import org.bukkit.command.CommandSender;
import org.bukkit.entity.Player;
import org.bukkit.event.Listener;
import org.bukkit.plugin.java.JavaPlugin;

public class ${name} extends JavaPlugin implements Listener {

    @Override
    public void onEnable(){
        getLogger().info("${name} aktiviert");
        getServer().getPluginManager().registerEvents(this, this);
    }

    @Override
    public void onDisable(){
        getLogger().info("${name} deaktiviert");
    }

    @Override
    public boolean onCommand(CommandSender sender, Command command, String label, String[] args){
        if(command.getName().equalsIgnoreCase("${input.replace(/\//g,'').split(' ')[0]}") && sender instanceof Player){
            Player player = (Player)sender;
            player.setHealth(player.getMaxHealth());
            player.sendMessage("Plugin-Befehl ausgeführt!");
            return true;
        }
        return false;
    }

    // Hier können weitere Commands oder Events hinzugefügt werden
}`;
    }

    return "Sorry, dazu habe ich aktuell keine fertige Antwort. Frage nach einem Command oder Plugin.";
  }

  respond(inputEl){
    this.outputEl.innerText = this.answer(inputEl.value);
  }
}

const mcAIInstance = new MinecraftCodingAI(document.getElementById('mcAIOutput'));
function openMC_AI(){ document.getElementById('mcAI').classList.remove('hidden'); document.getElementById('mcAIInput').value=''; document.getElementById('mcAIOutput').innerText=''; }
function closeMC_AI(){ document.getElementById('mcAI').classList.add('hidden'); }
function askMC_AI(){ mcAIInstance.respond(document.getElementById('mcAIInput')); }
</script>

</body>
</html>
