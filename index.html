<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Minecraft Plugin Academy - Intelligente Dummy-KI</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = { theme: { extend: { colors: { mcgreen:'#22c55e', mcdark:'#0f172a', mcblue:'#3b82f6', mcyellow:'#facc15', mcchat:'#22c55e' } } } };
</script>
</head>
<body class="bg-gradient-to-br from-mcdark to-black text-gray-100 min-h-screen">

<header class="bg-black/60 backdrop-blur sticky top-0 z-50">
  <div class="max-w-7xl mx-auto p-4 flex justify-between items-center">
    <h1 class="text-2xl font-extrabold text-mcgreen">⛏ Minecraft Plugin Academy / by Fabian</h1>
    <button onclick="openMC_AI()" class="px-4 py-2 bg-mcgreen text-black font-bold rounded">Coding KI</button>
  </div>
</header>

<section class="text-center py-16">
  <h2 class="text-4xl font-extrabold mb-4">Ultimative Minecraft Plugin KI</h2>
  <p class="text-gray-400 max-w-xl mx-auto">Gib deinen Namen ein und starte die KI. Sie kann alles erklären, Chatten und Plugins programmieren.</p>
  <div class="mt-6">
    <input id="playerNameInput" type="text" placeholder="Dein Name..." class="px-4 py-2 rounded text-black"/>
    <button onclick="setPlayerName()" class="px-4 py-2 bg-mcgreen text-black font-bold rounded ml-2">Start</button>
  </div>
</section>

<main class="max-w-7xl mx-auto px-6 pb-20">
  <div id="chapterList" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
</main>

<div id="chapterPage" class="hidden fixed inset-0 bg-black/90 overflow-auto p-10 z-50">
  <button onclick="closeChapter()" class="mb-6 px-4 py-2 bg-red-600 rounded text-white">Zurück</button>
  <div class="bg-mcdark p-6 rounded-lg max-w-4xl mx-auto">
    <h2 id="chapterTitle" class="text-3xl font-bold mb-4"></h2>
    <p id="chapterText" class="mb-4 text-gray-300"></p>
    <h3 class="text-2xl font-bold mb-2">Methoden & Erklärungen</h3>
    <div id="methodsList" class="space-y-3"></div>
  </div>
</div>

<div id="mcAI" class="hidden fixed inset-0 bg-black/90 flex flex-col items-center justify-start z-50 p-6 pt-16 overflow-auto">
  <button onclick="closeMC_AI()" class="mb-4 px-4 py-2 bg-red-600 rounded text-white absolute top-6 right-6">Schließen</button>
  <h2 class="text-3xl font-bold mb-4 text-mcgreen">Universelle Minecraft Coding KI</h2>
  <div class="mb-4 flex flex-wrap gap-2">
    <button onclick="askPreset('Wie fange ich an?')" class="px-3 py-1 bg-mcgreen text-black rounded">Wie fange ich an?</button>
  </div>
  <div class="mb-4 flex items-center gap-2">
    <input id="newChatName" placeholder="Neuen Chatnamen eingeben..." class="px-3 py-1 rounded text-black"/>
    <button onclick="createChat()" class="px-3 py-1 bg-mcgreen text-black rounded">Chat erstellen</button>
  </div>
  <div id="chatList" class="flex gap-2 mb-4 overflow-x-auto"></div>
  <textarea id="mcAIInput" placeholder="Schreibe eine Frage, Plugin-Befehl oder Java-Thema..." class="w-full max-w-xl h-24 p-3 rounded bg-black/80 text-green-300 mb-3"></textarea>
  <button onclick="askMC_AI()" class="px-4 py-2 bg-mcgreen text-black font-bold rounded mb-4">Frage stellen</button>
  <pre id="mcAIOutput" class="bg-black/80 p-4 rounded text-gray-100 max-w-xl w-full h-96 overflow-auto"></pre>
</div>

<script>
let playerName='Spieler';
let chats={};
let currentChat=null;

function setPlayerName(){
  const input=document.getElementById('playerNameInput').value.trim();
  if(input) playerName=input;
  document.getElementById('playerNameInput').parentElement.style.display='none';
  alert(`Hallo ${playerName}! Die KI ist bereit.`);
}

// Dummy KI, reagiert intelligent wie echte KI
class MinecraftCodingAI {
  constructor(outputEl){ this.outputEl = outputEl; }

  async respondDummy(inputEl){
    const question = inputEl.value.trim();
    if(!question) return;
    if(!currentChat) return alert("Erstelle zuerst einen Chat!");

    this.outputEl.innerText += `\n[KI denkt...]`;

    const q = question.toLowerCase();
    let answer='';

    if(/anfang|start|beginnen/.test(q)){
      answer=`Hallo ${playerName}! Um mit Minecraft Plugins zu starten:\n`+
             `1. Java Grundlagen lernen\n2. IntelliJ IDEA installieren\n3. Spigot/Paper-Projekt erstellen\n4. Tutorials anschauen\n`+
             `Beispiel:\npublic class MeinPlugin extends JavaPlugin {\n  @Override\n  public void onEnable() {\n    getLogger().info("Plugin aktiviert!");\n  }\n}`;
    } else if(/command/.test(q)) {
      answer=`CommandExecutor Beispiel:\n@Override\npublic boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\n  sender.sendMessage("Befehl ausgeführt!");\n  return true;\n}`;
    } else if(/event|join/.test(q)) {
      answer=`PlayerJoinEvent Beispiel:\n@EventHandler\npublic void onJoin(PlayerJoinEvent e) {\n  e.getPlayer().sendMessage("Willkommen auf dem Server!");\n}`;
    } else if(/gui/.test(q)) {
      answer=`GUI Beispiel:\nInventory inv = Bukkit.createInventory(player, 9, "Mein GUI");\nplayer.openInventory(inv);`;
    } else {
      answer=`[Dummy-KI] Ich habe deine Frage verstanden: "${question}"\n`+
             `Ich kann dir bei Minecraft Plugins, Java, Commands, Events, GUI und Spigot/Paper helfen.\n`+
             `Stelle deine Frage genauer für ein Beispiel oder Code-Snippet.`;
    }

    this.outputEl.innerText += `\n[Antwort]\n${answer}`;

    chats[currentChat].push(`> ${question}`);
    chats[currentChat].push(answer);

    inputEl.value='';
  }
}

const mcAIInstance = new MinecraftCodingAI(document.getElementById('mcAIOutput'));

function createChat(){
  const name = document.getElementById('newChatName').value.trim() || 'StandardChat';
  if(!chats[name]) chats[name]=[];
  currentChat=name;

  const chatListEl=document.getElementById('chatList');
  chatListEl.innerHTML='';
  for(const chatName in chats){
    chatListEl.innerHTML += `<button onclick="switchChat('${chatName}')" class='px-2 py-1 bg-mcgreen text-black rounded'>${chatName}</button>`;
  }

  mcAIInstance.outputEl.innerText='';
}

function switchChat(name){
  currentChat=name;
  mcAIInstance.outputEl.innerText=chats[name].join('\n');
}

function askMC_AI(){
  mcAIInstance.respondDummy(document.getElementById('mcAIInput'));
}

function askPreset(question){
  if(!currentChat) createChat();
  document.getElementById('mcAIInput').value=question;
  askMC_AI();
}

function openMC_AI(){
  document.getElementById('mcAI').classList.remove('hidden');
  document.getElementById('mcAIInput').value='';
  document.getElementById('mcAIOutput').innerText='';
}

function closeMC_AI(){
  document.getElementById('mcAI').classList.add('hidden');
}
</script>

</body>
</html>
