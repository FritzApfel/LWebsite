<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Apfel KI - Alles-in-einem</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = {
  theme: {
    extend: {
      colors: { appleRed:'#ef4444', appleDark:'#1f2937', appleLight:'#f3f4f6', appleGreen:'#22c55e' }
    }
  }
};
</script>
</head>
<body class="bg-gradient-to-br from-appleDark to-black text-white min-h-screen flex flex-col">

<header class="bg-appleDark/80 sticky top-0 z-50 p-4 flex justify-between items-center">
<h1 class="text-2xl font-bold text-appleRed">üçé Apfel KI</h1>
<button onclick="toggleChat()" class="px-4 py-2 bg-appleRed rounded">Chat √∂ffnen</button>
</header>

<main class="flex-grow flex flex-col items-center justify-center p-6">
<div class="text-center max-w-xl">
<h2 class="text-4xl font-extrabold mb-4">Lokale KI ‚Äì Alles in einem</h2>
<input id="playerNameInput" type="text" placeholder="Dein Name..." class="px-4 py-2 rounded text-black w-full mb-2"/>
<button onclick="setPlayerName()" class="px-4 py-2 bg-appleRed rounded w-full">Start</button>
</div>
</main>

<div id="chatWindow" class="hidden fixed inset-0 bg-black/90 flex flex-col items-center justify-start z-50 p-6 pt-16 overflow-auto">
<button onclick="toggleChat()" class="absolute top-6 right-6 px-4 py-2 bg-red-600 rounded">Schlie√üen</button>
<h2 class="text-3xl font-bold mb-4 text-appleRed">üçé Apfel KI Chat</h2>

<textarea id="chatInput" placeholder="Frage..." class="w-full max-w-xl h-24 p-3 rounded bg-appleDark/80 mb-3"></textarea>
<button onclick="askAI()" class="px-4 py-2 bg-appleRed rounded mb-4 w-full max-w-xl">Frage stellen</button>

<pre id="chatOutput" class="bg-appleDark/80 p-4 rounded text-white max-w-xl w-full h-96 overflow-auto"></pre>
</div>

<script>
let playerName='Spieler';
let chats={};
let currentChat=null;

// Nutzername setzen
function setPlayerName(){
  const input=document.getElementById('playerNameInput').value.trim();
  if(input) playerName=input;
  document.getElementById('playerNameInput').parentElement.style.display='none';
  alert(`Hallo ${playerName}! Die Apfel KI ist bereit. Entwickelt von Fabian D.`);
}

// Alles-in-einem Knowledge Array
const knowledge = [
  {keywords:['hallo','hi','hey'], responses:['Hallo!','Hi, wie gehts?','Hey! Sch√∂n dich zu sehen!']},
  {keywords:['wie geht es dir'], responses:['Mir geht es gut, danke!','Alles bestens hier!','Super, danke der Nachfrage.']},
  {keywords:['zeit','uhr'], responses:[`Es ist gerade ${new Date().toLocaleTimeString()}`,'Schau auf deine Uhr!']},
  {keywords:['programmieren','code','coding'], responses:['Ich kann dir beim Coden helfen!','Willst du ein Beispiel in JS, Python oder Java?']},
  {keywords:['minecraft','plugin'], responses:['Ich kann Minecraft Plugins erkl√§ren oder schreiben!','M√∂chtest du ein Beispiel Plugin sehen?']},
  {keywords:['hilfe','frage'], responses:['Klar, frag mich alles!','Ich helfe dir gerne!']},
  {keywords:['rechnen','math','berechne'], responses:['Gib mir bitte die Aufgabe.','Ich kann einfache Berechnungen l√∂sen.']},
  {keywords:['joke','witz'], responses:['Warum hat der Programmierer die Stra√üe √ºberquert? Um zur n√§chsten Schleife zu gelangen!','Ich habe einen lustigen Witz, willst du ihn h√∂ren?']},
    { keywords: ['hallo','hi','hey','guten tag','servus'], responses: ['Hallo!','Hi, sch√∂n dich zu sehen!','Hey, wie geht es dir?','Servus!'] },
  { keywords: ['wie geht es dir','wie l√§ufts'], responses: ['Mir geht es gut, danke!','Alles bestens hier!','Super, danke der Nachfrage.'] },

  // Zeit & Datum
  { keywords: ['zeit','uhr','wie sp√§t'], responses: [`Es ist gerade ${new Date().toLocaleTimeString()}`, 'Schau auf deine Uhr!'] },
  { keywords: ['datum','welches datum'], responses: [`Heute ist der ${new Date().toLocaleDateString()}`,'Du kannst das Datum auf deinem Kalender sehen.'] },

  // Mathematik
  { keywords: ['rechnen','berechne','mathe','addiere','subtrahiere','multipliziere','dividiere'], responses: ['Gib mir bitte die Aufgabe, ich l√∂se sie.','Ich kann einfache mathematische Aufgaben l√∂sen.'] },

  // Allgemeines Wissen
  { keywords: ['universum','raum','planeten'], responses: ['Das Universum ist riesig und voller Geheimnisse.','Wusstest du, dass es Milliarden von Galaxien gibt?'] },
  { keywords: ['erde','welt','kontinente'], responses: ['Die Erde hat 7 Kontinente und 5 Ozeane.','Wusstest du, dass der gr√∂√üte Ozean der Pazifik ist?'] },
  { keywords: ['tiere','tier','katze','hund'], responses: ['Tiere sind faszinierend!','Katzen sind unabh√§ngig, Hunde loyal.'] },
  { keywords: ['pflanzen','baum','blume'], responses: ['B√§ume produzieren Sauerstoff, wichtig f√ºr das Leben.','Blumen haben oft symbolische Bedeutungen.'] },

  // Technologie
  { keywords: ['computer','pc','hardware'], responses: ['Computer bestehen aus CPU, RAM, Motherboard, etc.','Hast du Fragen zu Programmierung oder Hardware?'] },
  { keywords: ['internet','netzwerk','wifi'], responses: ['Das Internet verbindet die ganze Welt.','WLAN ist eine drahtlose Netzwerkverbindung.'] },
  { keywords: ['programmieren','code','software','entwicklung'], responses: ['Ich kann dir bei Programmiersprachen helfen!','M√∂chtest du ein Beispiel in JavaScript, Python oder Java?'] },

  // KI & Robotik
  { keywords: ['k√ºnstliche intelligenz','ki','robotik'], responses: ['KI kann Muster erkennen und Aufgaben automatisieren.','Robotik kombiniert Hardware und Software f√ºr autonome Maschinen.'] },
  { keywords: ['machine learning','lernen','neuronales netzwerk'], responses: ['Machine Learning nutzt Daten, um Modelle zu trainieren.','Neuronale Netzwerke sind inspiriert vom menschlichen Gehirn.'] },

  // Unterhaltung
  { keywords: ['musik','song','lied'], responses: ['Musik kann die Stimmung heben.','Welches Genre magst du am liebsten?'] },
  { keywords: ['film','kino','serie'], responses: ['Filme sind tolle Geschichten in Bildern.','Hast du einen Lieblingsfilm?'] },
  { keywords: ['spiel','spiele','gaming'], responses: ['Videospiele k√∂nnen strategisch oder kreativ sein.','Was spielst du am liebsten?'] },

  // Witze & Humor
  { keywords: ['witz','joke','humor'], responses: ['Warum hat der Programmierer die Stra√üe √ºberquert? Um zur n√§chsten Schleife zu gelangen!','Ich habe einen lustigen Witz, willst du ihn h√∂ren?'] },

  // Wissenschaft
  { keywords: ['physik','chemie','biologie'], responses: ['Physik erkl√§rt Naturgesetze, Chemie Stoffe, Biologie Lebewesen.','Wissenschaft ist spannend und vielf√§ltig!'] },
  { keywords: ['mathematik','algebra','geometrie'], responses: ['Mathematik hilft uns, die Welt zu verstehen.','Algebra und Geometrie sind fundamentale Zweige.'] },

  // Minecraft
  { keywords: ['minecraft','plugin','bukkit','spigot'], responses: ['Ich kann Minecraft Plugins erkl√§ren oder schreiben!','Willst du ein Beispiel Plugin sehen?'] },
  { keywords: ['command','event','gui'], responses: ['Commands steuern Plugins, Events reagieren auf Aktionen, GUIs zeigen Interfaces.'] },

  // Pers√∂nliches
  { keywords: ['wer bist du','name','wer programmiert'], responses: ['Ich bin die Apfel KI, programmiert von Fabian D.','Ich wurde entwickelt, um Fragen zu beantworten und Wissen zu teilen.'] },
  { keywords: ['hilfe','frage','support'], responses: ['Klar, frag mich alles!','Ich helfe dir gerne weiter.'] },

  // Random Antworten (Fallback)
  { keywords: [], responses: ['Interessant, erz√§hl mir mehr.','Kannst du das genauer erkl√§ren?','Hmmm‚Ä¶ dar√ºber habe ich noch nicht nachgedacht.','Spannend, erz√§hl mir mehr!','Ich verstehe, weiter‚Ä¶'] }

  { keywords: ['programmieren','code','lernen programmieren','programmiersprache'], 
    responses: [
      'Programmiersprachen sind Werkzeuge, um dem Computer Aufgaben zu geben. Beispiele: Python, Java, JavaScript, C++.',
      'Um programmieren zu lernen, beginne mit den Grundlagen wie Variablen, Schleifen und Funktionen.',
      'Ein guter Start ist es, kleine Projekte zu bauen und nach und nach komplexere Strukturen zu verstehen.'
    ] 
  },

  // Java
  { keywords: ['java','javacode','java plugin','java fehler'], 
    responses: [
      'Java ist eine objektorientierte Sprache. Klassen, Objekte, Vererbung sind zentrale Konzepte.',
      'Ein h√§ufiger Fehler in Java ist die NullPointerException, wenn man auf ein nicht initialisiertes Objekt zugreift.',
      'Java Plugins f√ºr Minecraft sollten die Methoden onEnable() und onDisable() korrekt √ºberschreiben, sonst starten sie nicht.'
    ] 
  },

  // Python
  { keywords: ['python','python code','python fehler','python lernen'], 
    responses: [
      'Python ist eine einfach zu lernende Sprache, ideal f√ºr Einsteiger.',
      'IndentationError entsteht, wenn die Einr√ºckungen im Code nicht korrekt sind.',
      'Du kannst Funktionen definieren mit def meineFunktion(): und Variablen dynamisch zuweisen.'
    ] 
  },

  // JavaScript
  { keywords: ['javascript','js','nodejs','js fehler','browser code'], 
    responses: [
      'In JavaScript entstehen oft ReferenceErrors, wenn Variablen vor ihrer Definition genutzt werden.',
      'TypeErrors treten auf, wenn man eine Funktion oder Methode auf einen falschen Datentyp anwendet.',
      'Node.js erlaubt serverseitiges JavaScript. Achte auf async/await bei asynchronen Operationen.'
    ] 
  },

  // C++
  { keywords: ['c++','cpp','c++ fehler','memory leak'], 
    responses: [
      'C++ erfordert explizite Speicherverwaltung. Ein Memory Leak entsteht, wenn Speicher reserviert aber nicht freigegeben wird.',
      'Segmentation Faults treten auf, wenn man auf ung√ºltige Speicheradressen zugreift.',
      'Nutze Header-Dateien und passende Includes, um Code sauber zu strukturieren.'
    ] 
  },

  // Fehler erkennen allgemein
  { keywords: ['error','fehler','bug','debug'], 
    responses: [
      'Um Fehler zu erkennen, lies die Fehlermeldung genau und pr√ºfe, auf welche Zeile sie sich bezieht.',
      'Debugging-Tools helfen dir, Variablenwerte Schritt f√ºr Schritt zu pr√ºfen.',
      'Kommentare und sauberes Strukturieren des Codes erleichtern das Finden von Bugs.'
    ] 
  },

  // HTML / CSS
  { keywords: ['html','css','web design','website','frontend'], 
    responses: [
      'In HTML beschreibt man die Struktur einer Webseite mit Tags wie <div>, <p>, <a>.',
      'CSS steuert das Aussehen: Farben, Layouts, Schriftarten und Animationen.',
      'Ein h√§ufiger Fehler ist vergessenes Schlie√üen von Tags oder falsche Selektoren.'
    ] 
  },

  // Debugging Beispiele
  { keywords: ['syntaxfehler','compile error','runtime error'], 
    responses: [
      'Syntaxfehler: Dein Code verst√∂√üt gegen die Regeln der Sprache, z.B. fehlt ein Semikolon.',
      'Compile Error: Der Compiler konnte deinen Code nicht √ºbersetzen. Pr√ºfe Variablen, Typen und Bibliotheken.',
      'Runtime Error: Der Code wird beim Ausf√ºhren abgebrochen, z.B. Division durch Null oder Zugriff auf null.'
    ] 
  },

  // Tipps f√ºr Anf√§nger
  { keywords: ['anf√§nger','lernen','tutorial','code beispiel'], 
    responses: [
      'Beginne klein: Schreibe einfache Programme, z.B. ein Taschenrechner oder eine ToDo-Liste.',
      'Nutze Online-Ressourcen wie Tutorials, Dokumentationen und Coding-Plattformen.',
      'Fehler sind normal: Jede Fehlermeldung ist eine Chance zu lernen.'
    ] 
  }
];


const defaultResponses=[
  'Interessant, erz√§hl mir mehr.',
  'Kannst du das genauer erkl√§ren?',
  'Hmmm‚Ä¶ dar√ºber habe ich noch nicht nachgedacht.',
  'Spannend, erz√§hl mir mehr!',
  'Ich verstehe, weiter‚Ä¶'
];

class AllInOneAI{
  constructor(outputEl){
    this.outputEl=outputEl;
  }

  respond(inputEl){
    const question=inputEl.value.trim();
    if(!question) return;
    if(!currentChat) currentChat='Standard';
    if(!chats[currentChat]) chats[currentChat]=[];

    this.outputEl.innerText+=`\n[KI denkt...]`;

    const lowerQ=question.toLowerCase();
    let answer='';

    for(const k of knowledge){
      if(k.keywords.some(kw=>lowerQ.includes(kw))){
        answer=k.responses[Math.floor(Math.random()*k.responses.length)];
        break;
      }
    }
    if(!answer){
      answer=defaultResponses[Math.floor(Math.random()*defaultResponses.length)];
    }

    this.outputEl.innerText+=`\n[Antwort]\n${answer}`;
    chats[currentChat].push(`> ${question}`);
    chats[currentChat].push(answer);

    inputEl.value='';
  }
}

const ai=new AllInOneAI(document.getElementById('chatOutput'));

function askAI(){
  ai.respond(document.getElementById('chatInput'));
}

function toggleChat(){
  document.getElementById('chatWindow').classList.toggle('hidden');
}
</script>
</body>
</html>
