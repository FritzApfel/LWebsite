<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Minecraft Plugin Academy - Ultimative KI</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = { theme: { extend: { colors: { mcgreen:'#22c55e', mcdark:'#0f172a', mcblue:'#3b82f6', mcyellow:'#facc15', mcchat:'#22c55e' } } } };
</script>
</head>
<body class="bg-gradient-to-br from-mcdark to-black text-gray-100 min-h-screen">

<header class="bg-black/60 backdrop-blur sticky top-0 z-50">
  <div class="max-w-7xl mx-auto p-4 flex justify-between items-center">
    <h1 class="text-2xl font-extrabold text-mcgreen">⛏ Minecraft Plugin Academy / by Fabian</h1>
    <button onclick="openMC_AI()" class="px-4 py-2 bg-mcgreen text-black font-bold rounded">Coding KI</button>
  </div>
</header>

<section class="text-center py-16">
  <h2 class="text-4xl font-extrabold mb-4">Ultimative Minecraft Plugin KI</h2>
  <p class="text-gray-400 max-w-xl mx-auto">Gib deinen Namen ein und starte die KI. Sie kann alles erklären, Chatten und Plugins programmieren.</p>
  <div class="mt-6">
    <input id="playerNameInput" type="text" placeholder="Dein Name..." class="px-4 py-2 rounded text-black"/>
    <button onclick="setPlayerName()" class="px-4 py-2 bg-mcgreen text-black font-bold rounded ml-2">Start</button>
  </div>
</section>

<main class="max-w-7xl mx-auto px-6 pb-20">
  <div id="chapterList" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
</main>

<!-- Kapitel Overlay -->
<div id="chapterPage" class="hidden fixed inset-0 bg-black/90 overflow-auto p-10 z-50">
  <button onclick="closeChapter()" class="mb-6 px-4 py-2 bg-red-600 rounded text-white">Zurück</button>
  <div class="bg-mcdark p-6 rounded-lg max-w-4xl mx-auto">
    <h2 id="chapterTitle" class="text-3xl font-bold mb-4"></h2>
    <p id="chapterText" class="mb-4 text-gray-300"></p>
    <h3 class="text-2xl font-bold mb-2">Methoden & Erklärungen</h3>
    <div id="methodsList" class="space-y-3"></div>
  </div>
</div>

<!-- Minecraft Coding KI -->
<div id="mcAI" class="hidden fixed inset-0 bg-black/90 flex flex-col items-center justify-start z-50 p-6 pt-16 overflow-auto">
  <button onclick="closeMC_AI()" class="mb-4 px-4 py-2 bg-red-600 rounded text-white absolute top-6 right-6">Schließen</button>
  <h2 class="text-3xl font-bold mb-4 text-mcgreen">Universelle Minecraft Coding KI</h2>
  <div class="mb-4 flex flex-wrap gap-2">
    <button onclick="askPreset('Wie fange ich an?')" class="px-3 py-1 bg-mcgreen text-black rounded">Wie fange ich an?</button>
    <button onclick="askPreset('Java lernen')" class="px-3 py-1 bg-mcgreen text-black rounded">Java lernen</button>
    <button onclick="askPreset('Spigot Events')" class="px-3 py-1 bg-mcgreen text-black rounded">Spigot Events</button>
    <button onclick="askPreset('Plugin erstellen')" class="px-3 py-1 bg-mcgreen text-black rounded">Plugin erstellen</button>
  </div>
  <div class="mb-4 flex items-center gap-2">
    <input id="newChatName" placeholder="Neuen Chatnamen eingeben..." class="px-3 py-1 rounded text-black"/>
    <button onclick="createChat()" class="px-3 py-1 bg-mcgreen text-black rounded">Chat erstellen</button>
  </div>
  <div id="chatList" class="flex gap-2 mb-4 overflow-x-auto"></div>
  <textarea id="mcAIInput" placeholder="Schreibe eine Frage, Plugin-Befehl oder Java-Thema..." class="w-full max-w-xl h-24 p-3 rounded bg-black/80 text-green-300 mb-3"></textarea>
  <button onclick="askMC_AI()" class="px-4 py-2 bg-mcgreen text-black font-bold rounded mb-4">Frage stellen</button>
  <pre id="mcAIOutput" class="bg-black/80 p-4 rounded text-gray-100 max-w-xl w-full h-96 overflow-auto"></pre>
</div>

<script>
let playerName='Spieler';
let chats={};
let currentChat=null;

function setPlayerName(){
  const input=document.getElementById('playerNameInput').value.trim();
  if(input) playerName=input;
  document.getElementById('playerNameInput').parentElement.style.display='none';
  alert(`Hallo ${playerName}! Die KI ist bereit.`);
}

const chapters=[
  {id:'java', title:'Java Grundlagen', text:'Variablen, Schleifen, Bedingungen, Klassen, Methoden.', methods:[{name:'int', desc:'Ganzzahl'},{name:'String', desc:'Text/Zeichenkette'},{name:'for', desc:'Schleife'},{name:'if/else', desc:'Bedingung'},{name:'class', desc:'Klassen Definition'},{name:'void', desc:'Methoden ohne Rückgabewert'}]},
  {id:'oop', title:'Objektorientierte Programmierung', text:'Klassen, Objekte, Vererbung, Interfaces, Polymorphismus.', methods:[{name:'extends', desc:'Erbt Eigenschaften einer Klasse'},{name:'implements', desc:'Implementiert ein Interface'},{name:'this', desc:'Referenz auf aktuelles Objekt'},{name:'super', desc:'Referenz auf Elternklasse'}]},
  {id:'spigot', title:'Spigot Plugins', text:'Entwicklung von Minecraft Plugins: Events, Commands, Listener.', methods:[{name:'onEnable', desc:'Beim Plugin Start'},{name:'onDisable', desc:'Beim Plugin Stop'},{name:'PlayerJoinEvent', desc:'Spieler tritt Server bei'},{name:'CommandExecutor', desc:'Erstellt Commands'}]},
  {id:'gui', title:'GUI & Items', text:'Inventare, Items, Namen, Lore, Breite.', methods:[{name:'Inventory', desc:'Minecraft Inventar'},{name:'ItemStack', desc:'Ein Item im Inventar'},{name:'setDisplayName', desc:'Name eines Items'},{name:'setLore', desc:'Lore/Beschreibung eines Items'}]}
];

const chapterListEl=document.getElementById('chapterList');
chapters.forEach(ch=>{
  const div=document.createElement('div');
  div.className='bg-white/5 border border-white/10 rounded-xl p-5 hover:border-mcgreen cursor-pointer';
  div.innerHTML=`<h3 class='text-lg font-bold'>${ch.title}</h3>`;
  div.onclick=()=>openChapter(ch.id);
  chapterListEl.appendChild(div);
});

function openChapter(id){
  const ch=chapters.find(c=>c.id===id);
  if(!ch) return;
  document.getElementById('chapterTitle').innerText=ch.title;
  document.getElementById('chapterText').innerText=ch.text;
  const methodsEl=document.getElementById('methodsList');
  methodsEl.innerHTML='';
  ch.methods.forEach(m=>{
    methodsEl.innerHTML+=`<div class='bg-black/70 p-3 rounded'><strong>${m.name}</strong>: ${m.desc}</div>`;
  });
  document.getElementById('chapterPage').classList.remove('hidden');
}
function closeChapter(){document.getElementById('chapterPage').classList.add('hidden');}

class MinecraftCodingAI{
  constructor(outputEl){this.outputEl=outputEl;}
  answer(input){
    input=input.trim().toLowerCase();
    if(input==='hallo') return {type:'chat', content:`Hallo ${playerName}! Ich kann Plugins erstellen oder Methoden erklären.`};
    if(input.includes('wie geht')) return {type:'chat', content:`Mir geht es gut, ${playerName}! Ich helfe dir beim Programmieren.`};
    if(input.includes('anfang')||input.includes('start')||input.includes('programmieren lernen')){
      return {type:'explanation', content:`Hallo ${playerName}, so fängst du an:\n1. IntelliJ IDEA installieren\n2. Minecraft Development Plugin installieren\n3. Neues Spigot/Paper Projekt erstellen\n4. YouTube Tutorials anschauen`};
    }
    if(input.includes('playerjoinevent')) return {type:'explanation', content:'PlayerJoinEvent Beispiel: @EventHandler public void onJoin(PlayerJoinEvent e){ e.getPlayer().sendMessage("Willkommen!"); }'};
    if(input.includes('commandexecutor')) return {type:'explanation', content:'CommandExecutor Beispiel: @Override public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args){ sender.sendMessage("Befehl ausgeführt!"); return true; }'};
    if(input.includes('plugin')||input.includes('/')){
      let command=input.match(/\/\w+/); command=command?command[0].replace('/',''):'meincommand';
      return {type:'plugin', content:`// Fertiges Plugin: ${command.charAt(0).toUpperCase()+command.slice(1)}Plugin\npackage com.deinplugin;\nimport org.bukkit.*;\nimport org.bukkit.command.*;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.Listener;\nimport org.bukkit.inventory.*;\nimport org.bukkit.plugin.java.JavaPlugin;\npublic class ${command.charAt(0).toUpperCase()+command.slice(1)}Plugin extends JavaPlugin implements Listener{ @Override public void onEnable(){ getLogger().info("${command} Plugin aktiviert"); getServer().getPluginManager().registerEvents(this,this);} @Override public void onDisable(){ getLogger().info("${command} Plugin deaktiviert");} @Override public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args){ if(cmd.getName().equalsIgnoreCase("${command}") && sender instanceof Player){ Player player=(Player)sender; player.setHealth(player.getMaxHealth()); player.sendMessage("Du wurdest geheilt!"); Inventory inv=Bukkit.createInventory(player,9,"GUI Beispiel"); ItemStack item=new ItemStack(Material.DIAMOND); inv.setItem(0,item); player.openInventory(inv); return true;} return false;}}`};
    }
    return {type:'chat', content:`${playerName}, ich habe dazu keine direkte Vorlage, aber ich kann dir helfen! Frag nach Commands, Events, Plugins oder Java.`};
  }
  respond(inputEl){
    const res=this.answer(inputEl.value);
    if(!currentChat) return alert("Erstelle zuerst einen Chat!");
    if(res.type==='chat') this.outputEl.innerHTML+=`\n[Chat] ${res.content}`;
    if(res.type==='explanation') this.outputEl.innerHTML+=`\n[Erklärung] ${res.content}`;
    if(res.type==='plugin') this.outputEl.innerHTML+=`\n[Plugin-Code]\n${res.content}`;
  }
}

const mcAIInstance=new MinecraftCodingAI(document.getElementById('mcAIOutput'));
function createChat(){
  const name=document.getElementById('newChatName').value.trim();
  if(!name) return; if(chats[name]) return alert("Chat existiert bereits!");
  chats[name]=[]; currentChat=name;
  document.getElementById('chatList').innerHTML+=`<button onclick="switchChat('${name}')" class="px-2 py-1 bg-mcgreen text-black rounded">${name}</button>`;
  mcAIInstance.outputEl.innerText='';
}
function switchChat(name){ currentChat=name; mcAIInstance.outputEl.innerText=chats[name].join('\n'); }
function askMC_AI(){ if(!currentChat) return alert("Erstelle zuerst einen Chat!"); const inputEl=document.getElementById('mcAIInput'); mcAIInstance.respond(inputEl); chats[currentChat].push(`> ${inputEl.value}`); chats[currentChat].push(mcAIInstance.outputEl.innerText.split('\n').pop()); inputEl.value=''; }
function askPreset(question){ if(!currentChat) createChat(); document.getElementById('mcAIInput').value=question; askMC_AI(); }
function openMC_AI(){ document.getElementById('mcAI').classList.remove('hidden'); document.getElementById('mcAIInput').value=''; document.getElementById('mcAIOutput').innerText=''; }
function closeMC_AI(){ document.getElementById('mcAI').classList.add('hidden'); }
</script>

</body>
</html>
